<!DOCTYPE html>
<html>
  <head>
    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Import materialize.css-->
    <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>
    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <!-- Font Awesome Icon Library -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="style.css">

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  </head>
  <title>Tutorial</title>
    <link rel = "icon" type = "image/png" href = "logo4.png">
  <body>

    <div class="navbar-fixed">
      <nav>
        <div class="nav-wrapper">
          <a href="#" class="brand-logo">CPS530 <img src="logo4.png" class="logo-pic"></a>
          <ul id="nav-mobile" class="right hide-on-med-and-down">
            <li><a href="index.html">Home</a></li>
            <li><a href="install.html">Install</a></li>
            <li class="active"><a href="tutorial.html">Tutorial</a></li>
            <li><a href="demo.html">Demo</a></li>
            <li><a href="conclusion.html">Conclusion</a></li>
            <li><a href="credits.html">Credits</a></li>
          </ul>
        </div>
      </nav>
    </div>


    <div class="container">
        <!-- Page Content goes here -->
        <h1 class="getting-started">Making a Webpage</h1>
        <h4 class="getting-started-subheading">Lets go through the features in the frameworks!</h4>
        <hr>
        <h3 class="download-frontend">Materialize Grids</h3>    
        <p class= "info-frontend">Materialize uses a standard 12 column fluid responsive grid system. The grid helps you layout your page in an ordered, easy fashion.</p>

        <p id="subheading">Container</p>
        <p class= "info-frontend">The container class is not strictly part of the grid but is important in laying out content. It allows you to center your page content. The container class is set to ~70% of the window width. It helps you center and contain your page content. We use the container to contain our body content.</p>

        <img src="container.png" class="containerDemo">

        <p class= "info-frontend">To add a container just put your content inside a div tag with a container class. Here's an example of how your page might be set up.</p>

        <textarea rows="6" cols="50" readonly wrap="off"><!DOCTYPE html>
    <body>
      <div class="container">
        <!-- Page Content goes here -->
      </div>
    </body>     
        </textarea>

        <p id="subheading">12 Columns</p>
        <p class= "info-frontend">The standard grid has 12 columns. No matter the size of the browser, each of these columns will always have an equal width.</p>
        <div class="row" id="cols12">
          <div class="col s1" id="colss">1</div>
          <div class="col s1" id="colss">2</div>
          <div class="col s1" id="colss">3</div>
          <div class="col s1" id="colss">4</div>
          <div class="col s1" id="colss">5</div>
          <div class="col s1" id="colss">6</div>
          <div class="col s1" id="colss">7</div>
          <div class="col s1" id="colss">8</div>
          <div class="col s1" id="colss">9</div>
          <div class="col s1" id="colss">10</div>
          <div class="col s1" id="colss">11</div>
          <div class="col s1" id="colss" style="border-right: 0.5px solid rgba(0,0,0,0.4);">12</div>
        </div>

        <p class= "info-frontend">To get a feel of how the grid is used in HTML, take a look at the code below which will produce a similar result to the one above. This grid can be used to place and organize items.</p>

        <textarea rows="12" cols="50" readonly wrap="off"><!DOCTYPE html>
    <div class="row">
      <div class="col s1">1</div>
      <div class="col s1">2</div>
      <div class="col s1">3</div>
      <div class="col s1">4</div>
      <div class="col s1">5</div>
      <div class="col s1">6</div>
      <div class="col s1">7</div>
      <div class="col s1">8</div>
      <div class="col s1">9</div>
      <div class="col s1">10</div>
      <div class="col s1">11</div>
      <div class="col s1">12</div>
    </div>    
        </textarea>

        <h3 class="download-frontend">Navbar</h3> 
        <p class= "info-frontend">The navbar is fully contained by an HTML5 Nav tag. Inside a recommended container div, there are 2 main parts of the navbar. A logo or brand link, and the navigations links. You can align these links to the left or right.</p>

        <p id="subheading">Right Aligned Links</p>
        <p class= "info-frontend">To right align your navbar links, just add a right class to your ul> that contains them.</p>

        <nav id="nav-demo">
          <div class="nav-wrapper">
            <a href="#" class="brand-logo">Logo</a>
            <ul id="nav-mobile" class="right hide-on-med-and-down">
              <li><a href="sass.html">Sass</a></li>
              <li><a href="badges.html">Components</a></li>
              <li><a href="collapsible.html">JavaScript</a></li>
            </ul>
          </div>
        </nav>

        <textarea rows="9" cols="50" readonly wrap="off"><!DOCTYPE html>
  <nav>
    <div class="nav-wrapper">
      <a href="#" class="brand-logo">Logo</a>
      <ul id="nav-mobile" class="right hide-on-med-and-down">
        <li><a href="sass.html">Sass</a></li>
        <li><a href="badges.html">Components</a></li>
        <li><a href="collapsible.html">JavaScript</a></li>
      </ul>
    </div>
  </nav>  
        </textarea>

        <p id="subheading">Left Aligned Links</p>
        <p class= "info-frontend">To left align your navbar links, just add a left class to your ul> that contains them.</p>

        <nav id="nav-demo">
          <div class="nav-wrapper">
            <a href="#" class="brand-logo right">Logo</a>
            <ul id="nav-mobile" class="left hide-on-med-and-down">
              <li><a href="sass.html">Sass</a></li>
              <li><a href="badges.html">Components</a></li>
              <li><a href="collapsible.html">JavaScript</a></li>
            </ul>
          </div>
        </nav>

        <textarea rows="9" cols="50" readonly wrap="off"><!DOCTYPE html>
  <nav>
    <div class="nav-wrapper">
      <a href="#" class="brand-logo right">Logo</a>
      <ul id="nav-mobile" class="left hide-on-med-and-down">
        <li><a href="sass.html">Sass</a></li>
        <li><a href="badges.html">Components</a></li>
        <li><a href="collapsible.html">JavaScript</a></li>
      </ul>
    </div>
  </nav>
        </textarea>

        <h3 class="download-frontend">Icons</h3> 
        <p class= "info-frontend">Materialize includes 932 Material Design Icons courtesy of Google. You can download them directly from the Material Design specs.</p>

        <p id="subheading">Usage</p>
        <p class= "info-frontend">To be able to use these icons, you must include this line in the head portion of your HTML code</p>

        <textarea rows="2" cols="50" readonly wrap="off"><!DOCTYPE html>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        </textarea>

        <p class= "info-frontend">To use these icons, use the material-icons class on an element and provide the ligature as the text content.</p>

        <textarea rows="2" cols="50" readonly wrap="off"><!DOCTYPE html>
  <i class="material-icons">add</i>
        </textarea>

        <p id="subheading">Sample Icons</p>

        <div class="row" id="icon-display">
          <div class="col s12 m6 l3">
            <i class="medium material-icons">3d_rotation</i>
            <p>3d_rotation</p>
          </div>
          <div class="col s12 m6 l3">
            <i class="medium material-icons">ac_unit</i>
            <p>ac_unit</p>
          </div>
          <div class="col s12 m6 l3">
            <i class="medium material-icons">access_time</i>
            <p>access_time</p>
          </div>
          <div class="col s12 m6 l3">
            <i class="medium material-icons">add_a_photo</i>
            <p>add_a_photo</p>
          </div>
        </div>

        <div class="row" id="icon-display">
          <div class="col s12 m6 l3">
            <i class="medium material-icons">add_location</i>
            <p>add_location</p>
          </div>
          <div class="col s12 m6 l3">
            <i class="medium material-icons">add_circle</i>
            <p>add_circle</p>
          </div>
          <div class="col s12 m6 l3">
            <i class="medium material-icons">add_shopping_cart</i>
            <p>add_shopping_cart</p>
          </div>
          <div class="col s12 m6 l3">
            <i class="medium material-icons">airplanemode_active</i>
            <p>airplanemode_active</p>
          </div>
        </div>

        <div class="row" id="icon-display">
          <div class="col s12 m6 l3">
            <i class="medium material-icons">android</i>
            <p>android</p>
          </div>
          <div class="col s12 m6 l3">
            <i class="medium material-icons">album</i>
            <p>album</p>
          </div>
          <div class="col s12 m6 l3">
            <i class="medium material-icons">announcement</i>
            <p>announcement</p>
          </div>
          <div class="col s12 m6 l3">
            <i class="medium material-icons">assignment_turned_in</i>
            <p>assignment_turned_in</p>
          </div>
        </div>

        <div class="row" id="icon-display">
          <div class="col s12 m6 l3">
            <i class="medium material-icons">audiotrack</i>
            <p>audiotrack</p>
          </div>
          <div class="col s12 m6 l3">
            <i class="medium material-icons">beach_access</i>
            <p>beach_access</p>
          </div>
          <div class="col s12 m6 l3">
            <i class="medium material-icons">bluetooth</i>
            <p>bluetooth</p>
          </div>
          <div class="col s12 m6 l3">
            <i class="medium material-icons">brightness_2</i>
            <p>brightness_2</p>
          </div>
        </div>

        <div class="row" id="icon-display">
          <div class="col s12 m6 l3">
            <i class="medium material-icons">bug_report</i>
            <p>bug_report</p>
          </div>
          <div class="col s12 m6 l3">
            <i class="medium material-icons">build</i>
            <p>build</p>
          </div>
          <div class="col s12 m6 l3">
            <i class="medium material-icons">cake</i>
            <p>cake</p>
          </div>
          <div class="col s12 m6 l3">
            <i class="medium material-icons">camera</i>
            <p>camera</p>
          </div>
        </div>

        <div class="row" id="icon-display">
          <div class="col s12 m6 l3">
            <i class="medium material-icons">camera_roll</i>
            <p>camera_roll</p>
          </div>
          <div class="col s12 m6 l3">
            <i class="medium material-icons">card_giftcard</i>
            <p>card_giftcard</p>
          </div>
          <div class="col s12 m6 l3">
            <i class="medium material-icons">cast</i>
            <p>cast</p>
          </div>
          <div class="col s12 m6 l3">
            <i class="medium material-icons">chat</i>
            <p>chat</p>
          </div>
        </div>

        <p class= "info-frontend">For the full list of the icons, <a href="https://materializecss.com/icons.html">click here</a></p>


        <h3 class="download-frontend">Cards</h3> 
        <p class= "info-frontend">Cards are a convenient means of displaying content composed of different types of objects. They’re also well-suited for presenting similar objects whose size or supported actions can vary considerably, like photos with captions of variable length.</p>

        <p id="subheading">Basic Card</p>

        <div class="row" id="card-demo">
          <div class="col s12 m6">
            <div class="card blue-grey darken-1">
              <div class="card-content white-text">
                <span class="card-title">Card Title</span>
                <p>I am a very simple card. I am good at containing small bits of information.
                I am convenient because I require little markup to use effectively.</p>
              </div>
              <div class="card-action">
                <a href="#">This is a link</a>
                <a href="#">This is a link</a>
              </div>
            </div>
          </div>
        </div>

        <textarea rows="10" cols="50" readonly wrap="off"><!DOCTYPE html>
  <div class="row">
    <div class="col s12 m6">
      <div class="card blue-grey darken-1">
        <div class="card-content white-text">
          <span class="card-title">Card Title</span>
          <p>I am a very simple card. I am good at containing small bits of information.
          I am convenient because I require little markup to use effectively.</p>
        </div>
        <div class="card-action">
          <a href="#">This is a link</a>
          <a href="#">This is a link</a>
        </div>
      </div>
    </div>
  </div>
        </textarea>
        

        <p id="subheading">Image Card</p>


        <div class="row" id="card-demo">
          <div class="col s12 m7">
            <div class="card">
              <div class="card-image">
                <img src="card.jpg" >
                <span class="card-title">Card Title</span>
              </div>
              <div class="card-content">
                <p>I am a very simple card. I am good at containing small bits of information.
                I am convenient because I require little markup to use effectively.</p>
              </div>
              <div class="card-action">
                <a href="#">This is a link</a>
              </div>
            </div>
          </div>
        </div>

        <textarea rows="10" cols="50" readonly wrap="off"><!DOCTYPE html>
  <div class="row">
    <div class="col s12 m7">
      <div class="card">
        <div class="card-image">
          <img src="images/sample-1.jpg">
          <span class="card-title">Card Title</span>
        </div>
        <div class="card-content">
          <p>I am a very simple card. I am good at containing small bits of information.
          I am convenient because I require little markup to use effectively.</p>
        </div>
        <div class="card-action">
          <a href="#">This is a link</a>
        </div>
      </div>
    </div>
  </div>
        </textarea>


        <p id="subheading">Card Reveal</p>

        <div class="card" id="card-r">
          <div class="card-image waves-effect waves-block waves-light">
            <img class="activator" src="card2.jpg">
          </div>
          <div class="card-content">
            <span class="card-title activator grey-text text-darken-4">Card Title<i class="material-icons right">more_vert</i></span>
            <p><a href="#">This is a link</a></p>
          </div>
          <div class="card-reveal">
            <span class="card-title grey-text text-darken-4">Card Title<i class="material-icons right">close</i></span>
            <p>Here is some more information about this product that is only revealed once clicked on.</p>
          </div>
        </div>

        <textarea rows="10" cols="50" readonly wrap="off"><!DOCTYPE html>
  <div class="card">
    <div class="card-image waves-effect waves-block waves-light">
      <img class="activator" src="images/office.jpg">
    </div>
    <div class="card-content">
      <span class="card-title activator grey-text text-darken-4">Card Title<i class="material-icons right">more_vert</i></span>
      <p><a href="#">This is a link</a></p>
    </div>
    <div class="card-reveal">
      <span class="card-title grey-text text-darken-4">Card Title<i class="material-icons right">close</i></span>
      <p>Here is some more information about this product that is only revealed once clicked on.</p>
    </div>
  </div>
        </textarea>

        <p id="subheading">Card Panel</p>
        <p class= "info-frontend">For a simpler card with less markup, try using a card panel which just has padding and a shadow effect</p>

        <div class="row">
          <div class="col s12 m5">
            <div class="card-panel teal" id="card-p">
              <span class="white-text">I am a very simple card. I am good at containing small bits of information.
              I am convenient because I require little markup to use effectively. I am similar to what is called a panel in other frameworks.
              </span>
            </div>
          </div>
        </div>

        <textarea rows="10" cols="50" readonly wrap="off"><!DOCTYPE html>
  <div class="row">
    <div class="col s12 m5">
      <div class="card-panel teal">
        <span class="white-text">I am a very simple card. I am good at containing small bits of information.
        I am convenient because I require little markup to use effectively. I am similar to what is called a panel in other frameworks.
        </span>
      </div>
    </div>
  </div>
        </textarea>

        <p id="subheading">Demo Webpage</p>
        <p class= "info-frontend">See our demo webpage <a href="demo.html">here</a> </p>
    <br>
    <hr>

    <h3 class="download-frontend">ASP.net Components</h3> 
    <p id="subheading">Setting Up the Demo App and Database Credentials</p>
    <p class= "info-frontend">As stated earlier, you’ll deploy an existing ASP.NET Core application. This application was built to create a movie list and it uses the Model-View-Controller design pattern to ensure a proper structure and separation of concerns. To create or add a new movie to the list, the user will populate the form fields with the appropriate details and click on the Create button to post the details to the controller. The controller at this point will receive a POST HTTP request with the submitted details and persist the data in the database through the model.</p>
    <p class= "info-frontend">You will use Git to pull the source code of this demo application from GitHub and save it in a new directory. You could also download an alternate application here if you will be deploying a different application.</p>
    <p class= "info-frontend">To begin, create a new directory named movie-app from the terminal by using the following command:</p>

    <textarea rows="3" cols="50" readonly wrap="off">

  $ sudo mkdir -p /var/www/movie-app
    </textarea>

    <p class= "info-frontend">This will serve as the root directory for your application. Next, change the folder owner and group in order to allow a non-root user account to work with the project files:</p>

    <textarea rows="3" cols="50" readonly wrap="off">
      
  $ sudo chown sammy:sammy /var/www/movie-app
    </textarea>

    <p class= "info-frontend">Replace sammy with your sudo non-root username.</p>
    <p class= "info-frontend">Now, you can move into the parent directory and clone the application on GitHub:</p>

    <textarea rows="3" cols="50" readonly wrap="off">
      
  $ cd /var/www
  $ git clone https://github.com/do-community/movie-app-list.git movie-app
    </textarea>

    <p class= "info-frontend">You will see the following output:</p>

    <textarea rows="7" cols="50" readonly wrap="off">
      
  Cloning into 'movie-app'...
  remote: Enumerating objects: 91, done.
  remote: Counting objects: 100% (91/91), done.
  remote: Compressing objects: 100% (73/73), done.
  remote: Total 91 (delta 13), reused 91 (delta 13), pack-reused 0
  Unpacking objects: 100% (91/91), done.
    </textarea>

    <p class= "info-frontend">You have successfully cloned the demo application from GitHub, so the next step will be to create a successful connection to the application database. You will do this by editing the ConnectionStrings property within the appsettings.json file and add the details of the database.</p>
    <p class= "info-frontend">Change directory into the application:</p>

    <textarea rows="3" cols="50" readonly wrap="off">
      
  $ cd movie-app
    </textarea>

    <p class= "info-frontend">Now open the file for editing:</p>

    <textarea rows="3" cols="50" readonly wrap="off">
      
  $ sudo nano appsettings.json
    </textarea>

    <p class= "info-frontend">Add your database credentials:</p>

    <textarea rows="11" cols="50" readonly wrap="off">
      
  {
    "Logging": {
      "LogLevel": {
        "Default": "Warning"
      }
    },
    "AllowedHosts": "*",
    "ConnectionStrings": {
      "MovieContext": "Server=localhost;User Id=movie-admin;Password=password;Database=MovieAppDb"
    }
  }
    </textarea>

    <p class= "info-frontend">With this in place, you’ve successfully created a connection to your database. Now press CTRL+X to save your changes to the file and type Y to confirm. Then hit ENTER to exit the page.</p>
    <p class= "info-frontend">ASP.NET Core applications use a .NET standard library named Entity Framework (EF) Core to manage interaction with the database. Entity Framework Core is a lightweight, cross-platform version of the popular Entity Framework data access technology. It is an object-relational mapper (ORM) that enables .NET developers to work with a database using any of the database providers, such as MySQL.</p>
    <p class= "info-frontend">You can now update your database with the tables from the cloned demo application. Run the following command for that purpose:</p>

    <textarea rows="3" cols="50" readonly wrap="off">
      
  $ dotnet ef database update
    </textarea>

    <p class= "info-frontend">This will apply an update to the database and create the appropriate schemas.</p>
    <p class= "info-frontend">Now, to build the project and all its dependencies, run the following command:</p>

    <textarea rows="3" cols="50" readonly wrap="off">
      
  $ dotnet build
    </textarea>

    <p class= "info-frontend">You will see output similar to:</p>

    <textarea rows="14" cols="50" readonly wrap="off">
      
  Microsoft (R) Build Engine version 16.1.76+g14b0a930a7 for .NET Core
  Copyright (C) Microsoft Corporation. All rights reserved.

    Restore completed in 95.09 ms for /var/www/movie-app/MvcMovie.csproj.
    MvcMovie -> /var/www/movie-app/bin/Debug/netcoreapp2.2/MvcMovie.dll
    MvcMovie -> /var/www/movie-app/bin/Debug/netcoreapp2.2/MvcMovie.Views.dll

  Build succeeded.
      0 Warning(s)
      0 Error(s)

  Time Elapsed 00:00:01.91

    </textarea>

    <p class= "info-frontend">This will build the project and install any third-party dependencies listed in the project.assets.json file but the application won’t be ready for production yet. To get the application ready for deployment, run the following command:</p>

    <textarea rows="3" cols="50" readonly wrap="off">
      
  $ dotnet publish
    </textarea>

    <p class= "info-frontend">You will see output similar to:</p>

    <textarea rows="9" cols="50" readonly wrap="off">
      
  Microsoft (R) Build Engine version 16.1.76+g14b0a930a7 for .NET Core
  Copyright (C) Microsoft Corporation. All rights reserved.

  Restore completed in 89.62 ms for /var/www/movie-app/MvcMovie.csproj.
  MvcMovie -> /var/www/movie-app/bin/Debug/netcoreapp2.2/MvcMovie.dll
  MvcMovie -> /var/www/movie-app/bin/Debug/netcoreapp2.2/MvcMovie.Views.dll
  MvcMovie -> /var/www/movie-app/bin/Debug/netcoreapp2.2/publish/

    </textarea>

    <p class= "info-frontend">This will pack and compile the application, read through its dependencies, publish the resulting set of files into a folder for deployment, and produce a cross-platform .dll file that uses the installed .NET Core runtime to run the application.</p>
    <p class= "info-frontend">By installing dependencies, creating a connection to the database, updating the database with the necessary tables, and publishing it for production, you’ve completed the setup for this demo application. In the next step you will configure the web server to make the application accessible and secure at your domain.</p>


    <p id="subheading">Configuring the Web Server</p>
    <p class= "info-frontend">By now, having followed the How To Secure Nginx with Let’s Encrypt tutorial, you’ll have a server block for your domain at /etc/nginx/sites-available/your_domain with the server_name directive already set appropriately. In this step, you will edit this server block to configure Nginx as a reverse proxy for your application. A reverse proxy is a server that sits in front of web servers and forwards every web browser’s request to those web servers. It receives all requests from the network and forwards them to a different web server.</p>
    <p class= "info-frontend">In the case of an ASP.NET Core application, Kestrel is the preferred web server that is included with it by default. It is great for serving dynamic content from an ASP.NET Core application as it provides better request-processing performance and was designed to make ASP.NET as fast as possible. However, Kestrel isn’t considered a full-featured web server because it can’t manage security and serve static files, which is why it is advisable to always run it behind a web server.</p>
    <p class= "info-frontend">To begin, ensure that you are within the root directory of your server:</p>

    <textarea rows="3" cols="50" readonly wrap="off">
      
  $ cd ~
    </textarea>

    <p class= "info-frontend">Open the server block for editing with:</p>

    <textarea rows="3" cols="50" readonly wrap="off">
      
  $ sudo nano /etc/nginx/sites-available/your_domain
    </textarea>

    <p class= "info-frontend">As detailed in the Step 4 of the How To Secure Nginx with Let’s Encrypt tutorial, if you selected option 2, Certbot will automatically configure this server block in order to redirect HTTP traffic to HTTPS with just a few modifications.</p>
    <p class= "info-frontend">Continue with the configuration by editing the first two blocks in the file to reflect the following:</p>

    <textarea rows="16" cols="50" readonly wrap="off">
      
  server {

    server_name your-domain  www.your-domain;

   location / {
     proxy_pass http://localhost:5000;
     proxy_http_version 1.1;
     proxy_set_header Upgrade $http_upgrade;
     proxy_set_header Connection keep-alive;
     proxy_set_header Host $host;
     proxy_cache_bypass $http_upgrade;
     proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
     proxy_set_header X-Forwarded-Proto $scheme;
    }

  listen [::]:443 ssl ipv6only=on; # managed by Certbot
  listen 443 ssl; # managed by Certbot
  ssl_certificate /etc/letsencrypt/live/your-domain/fullchain.pem; # managed by Certbot
  ssl_certificate_key /etc/letsencrypt/live/your-domain/privkey.pem; # managed by Certbot
  include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot
  ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot


  }
  ...
    </textarea>


    <p class= "info-frontend">The configuration in this server block will instruct Nginx to listen on port 443, which is the standard port for websites that use SSL. Furthermore, Nginx will accept public traffic on port 443 and forward every matching request to the built-in Kestrel server at http://localhost:5000.</p>
    <p class= "info-frontend">Finally, following the server block you just edited in the file, ensure that the second server block looks like so:</p>

    <textarea rows="16" cols="50" readonly wrap="off">
      
  ...
  server {
  if ($host = www.your-domain) {
      return 301 https://$host$request_uri;
  } # managed by Certbot


  if ($host = your-domain) {
      return 301 https://$host$request_uri;
  } # managed by Certbot


      listen 80;
      listen [::]:80;

      server_name your-domain  www.your-domain;
  return 404; # managed by Certbot
  }
    </textarea>


    <p class= "info-frontend">This server block will redirect all requests to https://your-domain and https://www.your-domain to a secure HTTPS access.</p>
    <p class= "info-frontend">Next, force Nginx to pick up the changes you’ve made to the server block by running:</p>

    <textarea rows="3" cols="50" readonly wrap="off">
      
  $ sudo nginx -s reload
    </textarea>


    <p class= "info-frontend">With the Nginx configuration successfully completed, the server is fully set up to forward all HTTPS requests made to https://your-domain on to the ASP.NET Core app running on Kestrel at http://localhost:5000. However, Nginx isn’t set up to manage the Kestrel server process. To handle this and ensure that the Kestrel process keeps running in the background, you will use systemd functionalities.</p>
    <p class= "info-frontend">Systemd files will allow you to manage a process by providing start, stop, restart, and log functionalities once you create a process of work called a unit.</p>
    <p class= "info-frontend">Move into the systemd directory:</p>

    <textarea rows="3" cols="50" readonly wrap="off">
      
  $ cd /etc/systemd/systems
    </textarea>

    <p class= "info-frontend">Create a new file for editing:</p>

    <textarea rows="3" cols="50" readonly wrap="off">
      
  $ sudo nano movie.service
    </textarea>

    <p class= "info-frontend">Add the following content to it:</p>

    <textarea rows="16" cols="50" readonly wrap="off">
      
  [Unit]
  Description=Movie app

  [Service]
  WorkingDirectory=/var/www/movie-app
  ExecStart=/usr/bin/dotnet /var/www/movie-app/bin/Debug/netcoreapp2.2/publish/MvcMovie.dll
  Restart=always
  RestartSec=10
  SyslogIdentifier=movie
  User=sammy
  Environment=ASPNETCORE_ENVIRONMENT=Production
  Environment=DOTNET_PRINT_TELEMETRY_MESSAGE=false

  [Install]
  WantedBy=multi-user.target
    </textarea>


  <p class= "info-frontend">The configuration file specifies the location of the project’s folder with WorkingDirectory and the command to execute at the start of the process in ExecStart. In addition, you’ve used the RestartSec directive to specify when to restart the systemd service if the .NET runtime service crashes.</p>
  <p class= "info-frontend">Now save the file and enable the new movie service created with:</p>

    <textarea rows="3" cols="50" readonly wrap="off">
      
  $ sudo systemctl enable movie.service
    </textarea>

  <p class= "info-frontend">After that, proceed to start the service and verify that it’s running by starting the service:</p>

    <textarea rows="3" cols="50" readonly wrap="off">
      
  $ sudo systemctl start movie.service
    </textarea>

  <p class= "info-frontend">Then check its status:</p>

    <textarea rows="3" cols="50" readonly wrap="off">
      
  $ sudo systemctl status movie.service
    </textarea>

  <p class= "info-frontend">You will see the following output:</p>

    <textarea rows="8" cols="50" readonly wrap="off">
      
  movie.service - Movie app
   Loaded: loaded (/etc/systemd/system/movie.service; enabled; vendor preset: enabled)
   Active: active (running) since Sun 2019-06-23 04:51:28 UTC; 11s ago
  Main PID: 6038 (dotnet)
    Tasks: 16 (limit: 1152)
   CGroup: /system.slice/movie.service
           └─6038 /usr/bin/dotnet /var/www/movie-app/bin/Debug/netcoreapp2.2/publish/MvcMovie.dll

    </textarea>

    <p class= "info-frontend">This output gives you an overview of the current status of the movie.service created to keep your app running. It indicates that the service is enabled and currently active.</p>
    <p class= "info-frontend">Navigate to https://your-domain from your browser to run and test out the application.</p>
    <p class= "info-frontend">You’ll see the home page for the demo application—Movie List Application.</p>

    <img src="asp-demo.png" class="asp-demo">
    <p class= "info-frontend">With the reverse proxy configured and Kestrel managed through systemd, the web app is fully configured and can be accessed from a browser.</p>






 
    

    </div>
 
    </div>







    <!--JavaScript at end of body for optimized loading-->
    <script type="text/javascript" src="js/materialize.min.js"></script>
  </body>
</html>
<style type="text/css">

  @import url('https://fonts.googleapis.com/css?family=Barlow|Lato|Montserrat|Muli|Noto+Sans+KR|Nunito+Sans|Open+Sans|Poppins|Quicksand|Raleway|Roboto|Source+Sans+Pro|Sulphur+Point|Work+Sans&display=swap');

  @import url('https://fonts.googleapis.com/css?family=Source+Code+Pro&display=swap');
  
  body {
    background: #e5eef1;


  }

  .card-panel {
    background: #4a8ba1;
  }
  nav {
    background: #e77560;
  }

  nav .brand-logo {
    position: absolute;
    color: #fff;
    display: inline-block;
    font-size: 2.1rem;
    padding: 0;
    font-family: 'Source Code Pro', monospace;
}

  .brand-logo {
    margin-left: 3%;
  }

  #nav-mobile {
    margin-right: 3%;
  }

  .getting-started {
    font-family: 'Raleway', sans-serif;
    color: #179d93;
    font-size: 3.8em;
    letter-spacing: 0.04em;
  }

  .getting-started-subheading {
    margin-bottom: 6%;
    font-family: 'Raleway', sans-serif;
    color: #334b50;
    font-size: 2.1em;
  }

  hr {

  }

  #subheading {
    margin-top: 5%;

    margin-bottom: -1%;
    font-family: 'Raleway', sans-serif;
    color: #4a8ba1;
    font-size: 2.4em;

  }

  .containerDemo {
    width: 50%;
    margin-left: 25%;
    margin-right: 25%;
    margin-top: 6%;
    margin-bottom: 6%;
  }

  #colss {
    border-left: 0.5px solid rgba(0,0,0,0.4);
    text-align: center;
    padding: 1%;
    font-family: 'Quicksand', sans-serif;
    font-size: 1.2em;
    color: #3B5258;
    
  }

  #cols12 {
    margin-top: 6%;
    margin-bottom: 6%;
  }

  #nav-demo {
    background-color: #26a69a;
    margin-top: 6%;
    margin-bottom: 5%;
  }

  #icon-display {
    text-align: center;
    font-family: 'Quicksand', sans-serif;
    font-size: 0.9em;
    color: #3B5258;
    margin-top: 7%;
    margin-bottom: 7%;
  }

  #card-demo {
    margin-top: 5%;
    margin-left: -1%;
    
  }


  .download-frontend {
    margin-top: 5%;
    font-family: 'Raleway', sans-serif;
    color: #dc5b71;
    font-size: 3.1em;
    letter-spacing: 0.01em;
  }





  textarea {
    margin-top: 3%;
    margin-bottom: 3%;
    background-color: rgba(255,255,255,0.6);
    height: 40%;
    color: #647b81;
    font-family: 'courier', sans-serif;
    font-size: 0.95em;
    border: none;
    width: 100%;
  }




  .info-frontend {
    font-family: 'Quicksand', sans-serif;
    font-size: 1.2em;
    text-align: left;
    color: #3B5258;
  }

  .card {
    width: 80%;
    font-family: 'Quicksand', sans-serif;
  }

  #card-r {
    width: 45%;
    margin-top: 6%;
    margin-bottom: 5%;
    font-family: 'Quicksand', sans-serif;
  }

  #card-p {
    margin-left: -4%;
    font-family: 'Quicksand', sans-serif;
  }

  .logo-pic {
    width: 20px;
    margin-left: -9%;
    /*margin-left: 1%;*/
  }

  .asp-demo {
    width: 90%;
    margin-left: 4%;
    margin-top: 5%;
    margin-bottom: 5%;
  }


  

</style>
